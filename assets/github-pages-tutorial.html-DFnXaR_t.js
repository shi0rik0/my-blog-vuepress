import{_ as n,c as a,d as e,o as t}from"./app-DDoPRsSr.js";const i="/assets/page-settings-Ch18EBKp.png",p={};function l(c,s){return t(),a("div",null,[...s[0]||(s[0]=[e('<h1 id="使用github-pages免费部署静态网站" tabindex="-1"><a class="header-anchor" href="#使用github-pages免费部署静态网站"><span>使用GitHub Pages免费部署静态网站</span></a></h1><p>要使用GitHub Pages服务部署静态网站，首先要创建一个GitHub仓库。默认情况下，如果你的仓库名字是<code>&lt;username&gt;.github.io</code>，那么你的网站将会被部署到<code>https://&lt;username&gt;.github.io</code>。否则，你的网站将会被部署到<code>https://&lt;username&gt;.github.io/&lt;repository-name&gt;</code>。举个例子，假如你的GitHub用户名是<code>john</code>，那么仓库<code>john.github.io</code>将会被部署到<code>https://john.github.io</code>，而仓库<code>my-website</code>将会被部署到<code>https://john.github.io/my-website</code>。当然，你也可以在设置中使用自定义域名。</p><p>创建完仓库之后，要在仓库的设置中启用GitHub Pages（参见下图）。这里Source有两个选项：&quot;GitHub Actions&quot;和&quot;Deploy from a branch&quot;。如果选择后者，那么GitHub Pages会直接将指定分支的内容作为网站源代码。这个选项比较直观，我一般就用这个。</p><p><img src="'+i+`" alt=""></p><p>如果你的网站是完全手写的，那么直接将网站内容上传到main分支，然后选择从main分支部署即可。但很多时候，网站是通过静态网站生成器生成的，这种情况下，如果手动上传生成的网站内容，就会比较麻烦。这时候，我们可以使用GitHub Actions来自动化这个过程。主要流程是：将生成网站的代码放在main分支下，然后通过GitHub Actions执行main分支，将生成的网站内容更新到gh-pages分支，最后选择从gh-pages分支部署网站。</p><p>下面是我使用的一个GitHub Actions配置文件，它会在main分支有新的commit时，自动执行<code>npm run build</code>，然后将生成的<code>dist</code>目录下的网站内容推送到gh-pages分支。</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code><span class="line"><span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to GitHub Pages</span>
<span class="line"></span>
<span class="line"><span class="token key atrule">on</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">push</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">branches</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> main</span>
<span class="line">  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span></span>
<span class="line"></span>
<span class="line"><span class="token key atrule">jobs</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">build</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest</span>
<span class="line">    <span class="token comment"># Grant write permissions to GITHUB_TOKEN</span></span>
<span class="line">    <span class="token key atrule">permissions</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">contents</span><span class="token punctuation">:</span> write</span>
<span class="line"></span>
<span class="line">    <span class="token key atrule">steps</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout code</span>
<span class="line">        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2</span>
<span class="line"></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Set up Node.js</span>
<span class="line">        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v2</span>
<span class="line">        <span class="token key atrule">with</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">&#39;20&#39;</span></span>
<span class="line"></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install dependencies</span>
<span class="line">        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm install</span>
<span class="line"></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build the project</span>
<span class="line">        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm run build</span>
<span class="line"></span>
<span class="line">      <span class="token comment"># Commit the generated files in the \`dist\` directory of the \`main\` branch</span></span>
<span class="line">      <span class="token comment"># to the \`gh-pages\` branch</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to GitHub Pages</span>
<span class="line">        <span class="token key atrule">uses</span><span class="token punctuation">:</span> peaceiris/actions<span class="token punctuation">-</span>gh<span class="token punctuation">-</span>pages@v3</span>
<span class="line">        <span class="token key atrule">with</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">github_token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line">          <span class="token key atrule">publish_dir</span><span class="token punctuation">:</span> ./dist</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7)])])}const u=n(p,[["render",l]]),d=JSON.parse('{"path":"/posts/github-pages-tutorial/github-pages-tutorial.html","title":"使用GitHub Pages免费部署静态网站","lang":"zh-CN","frontmatter":{"date":"2025-03-03T00:00:00.000Z"},"headers":[],"git":{"updatedTime":1763698804000,"contributors":[{"name":"shi0rik0","username":"shi0rik0","email":"anguuan@outlook.com","commits":1,"url":"https://github.com/shi0rik0"}],"changelog":[{"hash":"27621ea60c6645dc9e44007e7ab6fd2858c37eaf","time":1763698804000,"email":"anguuan@outlook.com","author":"shi0rik0","message":"Migrate posts"}]},"filePathRelative":"posts/github-pages-tutorial/github-pages-tutorial.md","excerpt":"\\n<p>要使用GitHub Pages服务部署静态网站，首先要创建一个GitHub仓库。默认情况下，如果你的仓库名字是<code>&lt;username&gt;.github.io</code>，那么你的网站将会被部署到<code>https://&lt;username&gt;.github.io</code>。否则，你的网站将会被部署到<code>https://&lt;username&gt;.github.io/&lt;repository-name&gt;</code>。举个例子，假如你的GitHub用户名是<code>john</code>，那么仓库<code>john.github.io</code>将会被部署到<code>https://john.github.io</code>，而仓库<code>my-website</code>将会被部署到<code>https://john.github.io/my-website</code>。当然，你也可以在设置中使用自定义域名。</p>"}');export{u as comp,d as data};
