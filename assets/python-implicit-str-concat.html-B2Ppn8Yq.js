import{_ as n,c as a,d as e,o as t}from"./app-DDoPRsSr.js";const i={};function l(p,s){return t(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="python的坑-隐式字符串连接" tabindex="-1"><a class="header-anchor" href="#python的坑-隐式字符串连接"><span>Python的坑：隐式字符串连接</span></a></h1><p>最近写 Python 代码的时候遇到了一个坑：Python 和 C 语言一样，支持隐式字符串连接。所谓隐式字符串连接，就是当两个字符串字面量相邻的时候，会自动连接成一个字符串。比如下面这段代码：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">s <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span> <span class="token string">&#39;world&#39;</span></span>
<span class="line"><span class="token keyword">assert</span> s <span class="token operator">==</span> <span class="token string">&#39;helloworld&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>利用这个语法可以将长字符串拆分成多行，但是也可能带来问题，比如下面这段代码：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">names <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&#39;Alice&#39;</span>  <span class="token comment"># 这里漏了一个逗号</span></span>
<span class="line">    <span class="token string">&#39;Bob&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;Charlie&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这段代码的本意是创建一个包含 3 个人名的 list，但是由于缺少逗号，实际上创建的是一个只包含 2 个人名的 list。</p><p>好在 Pylint 可以检测这个问题，并给出警告 <a href="https://pylint.readthedocs.io/en/latest/user_guide/messages/warning/implicit-str-concat.html" target="_blank" rel="noopener noreferrer">W1404</a>，但是 Pylint 默认不会警告跨行的字符串连接，所以还需要手动在 Pylint 的配置中加入以下内容：</p><div class="language-ini line-numbers-mode" data-highlighter="prismjs" data-ext="ini"><pre><code><span class="line"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">STRING_CONSTANT</span><span class="token punctuation">]</span></span></span>
<span class="line"><span class="token key attr-name">check-str-concat-over-line-jumps</span> <span class="token punctuation">=</span> <span class="token value attr-value">true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,8)])])}const r=n(i,[["render",l]]),c=JSON.parse(`{"path":"/posts/python-implicit-str-concat.html","title":"Python的坑：隐式字符串连接","lang":"zh-CN","frontmatter":{"date":"2025-01-13T00:00:00.000Z"},"headers":[],"git":{"updatedTime":1763698804000,"contributors":[{"name":"shi0rik0","username":"shi0rik0","email":"anguuan@outlook.com","commits":1,"url":"https://github.com/shi0rik0"}],"changelog":[{"hash":"27621ea60c6645dc9e44007e7ab6fd2858c37eaf","time":1763698804000,"email":"anguuan@outlook.com","author":"shi0rik0","message":"Migrate posts"}]},"filePathRelative":"posts/python-implicit-str-concat.md","excerpt":"\\n<p>最近写 Python 代码的时候遇到了一个坑：Python 和 C 语言一样，支持隐式字符串连接。所谓隐式字符串连接，就是当两个字符串字面量相邻的时候，会自动连接成一个字符串。比如下面这段代码：</p>\\n<div class=\\"language-python line-numbers-mode\\" data-highlighter=\\"prismjs\\" data-ext=\\"py\\"><pre><code><span class=\\"line\\">s <span class=\\"token operator\\">=</span> <span class=\\"token string\\">'hello'</span> <span class=\\"token string\\">'world'</span></span>\\n<span class=\\"line\\"><span class=\\"token keyword\\">assert</span> s <span class=\\"token operator\\">==</span> <span class=\\"token string\\">'helloworld'</span></span>\\n<span class=\\"line\\"></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}`);export{r as comp,c as data};
