import{_ as n,c as a,d as e,o as i}from"./app-DDoPRsSr.js";const p={};function t(l,s){return i(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="ubuntu安装redis" tabindex="-1"><a class="header-anchor" href="#ubuntu安装redis"><span>Ubuntu安装Redis</span></a></h1><h2 id="安装redis" tabindex="-1"><a class="header-anchor" href="#安装redis"><span>安装Redis</span></a></h2><p>在Ubuntu里，可以直接通过apt安装Redis：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> lsb-release <span class="token function">curl</span> gpg</span>
<span class="line"><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://packages.redis.io/gpg <span class="token operator">|</span> <span class="token function">sudo</span> gpg <span class="token parameter variable">--dearmor</span> <span class="token parameter variable">-o</span> /usr/share/keyrings/redis-archive-keyring.gpg</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">644</span> /usr/share/keyrings/redis-archive-keyring.gpg</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb <span class="token variable"><span class="token variable">$(</span>lsb_release <span class="token parameter variable">-cs</span><span class="token variable">)</span></span> main&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/redis.list</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> update</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> redis</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装完成后，会自动启动Redis，并设置为开机启动。</p><p>可以通过<code>redis-cli</code>命令来测试Redis是否安装成功：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">$ redis-cli</span>
<span class="line"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">ping</span></span>
<span class="line">PONG</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="允许网络连接" tabindex="-1"><a class="header-anchor" href="#允许网络连接"><span>允许网络连接</span></a></h2><p>默认情况下，Redis只允许本地连接。如果需要允许通过网络连接，可以修改<code>/etc/redis/redis.conf</code>文件，将<code>bind</code>属性修改为允许的IP地址。</p><p>默认情况下，如果通过网络连接，Redis会强制要求启用密码。如果是在内网环境下，不启用密码其实也可以。可以通过在配置文件中禁用<code>protected-mode</code>来允许无密码连接：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">protected-mode no</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>修改完配置文件后，需要重启Redis使配置生效：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl restart redis</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="用python连接redis" tabindex="-1"><a class="header-anchor" href="#用python连接redis"><span>用Python连接Redis</span></a></h2><p>可以通过<code>redis</code>库来连接Redis：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">pip <span class="token function">install</span> redis</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">import</span> redis</span>
<span class="line"></span>
<span class="line">r <span class="token operator">=</span> redis<span class="token punctuation">.</span>Redis<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&#39;localhost&#39;</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">6379</span><span class="token punctuation">,</span> db<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">    r<span class="token punctuation">.</span>ping<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Connected to Redis!&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">except</span> redis<span class="token punctuation">.</span>ConnectionError<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Could not connect to Redis.&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="redis持久化" tabindex="-1"><a class="header-anchor" href="#redis持久化"><span>Redis持久化</span></a></h2><p>默认情况下，Redis的持久化文件会保存在<code>/var/lib/redis/dump.rdb</code>中。建议定时备份该文件。</p>`,19)])])}const r=n(p,[["render",t]]),o=JSON.parse('{"path":"/posts/ubuntu-install-redis.html","title":"Ubuntu安装Redis","lang":"zh-CN","frontmatter":{"date":"2025-03-17T00:00:00.000Z"},"headers":[{"level":2,"title":"安装Redis","slug":"安装redis","link":"#安装redis","children":[]},{"level":2,"title":"允许网络连接","slug":"允许网络连接","link":"#允许网络连接","children":[]},{"level":2,"title":"用Python连接Redis","slug":"用python连接redis","link":"#用python连接redis","children":[]},{"level":2,"title":"Redis持久化","slug":"redis持久化","link":"#redis持久化","children":[]}],"git":{"updatedTime":1763698804000,"contributors":[{"name":"shi0rik0","username":"shi0rik0","email":"anguuan@outlook.com","commits":1,"url":"https://github.com/shi0rik0"}],"changelog":[{"hash":"27621ea60c6645dc9e44007e7ab6fd2858c37eaf","time":1763698804000,"email":"anguuan@outlook.com","author":"shi0rik0","message":"Migrate posts"}]},"filePathRelative":"posts/ubuntu-install-redis.md","excerpt":"\\n<h2>安装Redis</h2>\\n<p>在Ubuntu里，可以直接通过apt安装Redis：</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"prismjs\\" data-ext=\\"sh\\"><pre><code><span class=\\"line\\"><span class=\\"token function\\">sudo</span> <span class=\\"token function\\">apt-get</span> <span class=\\"token function\\">install</span> lsb-release <span class=\\"token function\\">curl</span> gpg</span>\\n<span class=\\"line\\"><span class=\\"token function\\">curl</span> <span class=\\"token parameter variable\\">-fsSL</span> https://packages.redis.io/gpg <span class=\\"token operator\\">|</span> <span class=\\"token function\\">sudo</span> gpg <span class=\\"token parameter variable\\">--dearmor</span> <span class=\\"token parameter variable\\">-o</span> /usr/share/keyrings/redis-archive-keyring.gpg</span>\\n<span class=\\"line\\"><span class=\\"token function\\">sudo</span> <span class=\\"token function\\">chmod</span> <span class=\\"token number\\">644</span> /usr/share/keyrings/redis-archive-keyring.gpg</span>\\n<span class=\\"line\\"><span class=\\"token builtin class-name\\">echo</span> <span class=\\"token string\\">\\"deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb <span class=\\"token variable\\"><span class=\\"token variable\\">$(</span>lsb_release <span class=\\"token parameter variable\\">-cs</span><span class=\\"token variable\\">)</span></span> main\\"</span> <span class=\\"token operator\\">|</span> <span class=\\"token function\\">sudo</span> <span class=\\"token function\\">tee</span> /etc/apt/sources.list.d/redis.list</span>\\n<span class=\\"line\\"><span class=\\"token function\\">sudo</span> <span class=\\"token function\\">apt-get</span> update</span>\\n<span class=\\"line\\"><span class=\\"token function\\">sudo</span> <span class=\\"token function\\">apt-get</span> <span class=\\"token function\\">install</span> redis</span>\\n<span class=\\"line\\"></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}');export{r as comp,o as data};
