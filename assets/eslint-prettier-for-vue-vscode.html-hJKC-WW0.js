import{_ as n,c as a,d as e,o as t}from"./app-DEX1Ewll.js";const p={};function i(l,s){return t(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="给vscode-vue项目配置eslint和prettier" tabindex="-1"><a class="header-anchor" href="#给vscode-vue项目配置eslint和prettier"><span>给VSCode Vue项目配置ESLint和Prettier</span></a></h1><h2 id="什么是-eslint-和-prettier" tabindex="-1"><a class="header-anchor" href="#什么是-eslint-和-prettier"><span>什么是 ESLint 和 Prettier</span></a></h2><p>ESLint 是一个专门针对 JS 程序的 linter，但是它也可以用来格式化 JS 代码。而 Prettier 是一个支持多种语言（包括 JS）的代码 formatter。Linter 和 formatter 的区别在于，formatter 只关注代码格式好不好看，不关心具体逻辑，而 linter 更关注程序逻辑是否有问题。</p><p>所以说，对于 HTML 和 CSS 代码，只能用 Prettier 来格式化。而对于 JS 代码来说，ESLint 和 Prettier 的功能有重复的部分。比较好的做法是，禁用 ESLint 中与 Prettier 冲突的格式化规则，然后同时使用 ESLint 和 Prettier。</p><h2 id="安装并配置-prettier" tabindex="-1"><a class="header-anchor" href="#安装并配置-prettier"><span>安装并配置 Prettier</span></a></h2><p>在下文中，我们假设项目的目录结构是这样的：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">.</span>
<span class="line">├── backend/</span>
<span class="line">├── frontend/</span>
<span class="line">│   ├── node_modules/</span>
<span class="line">│   ├── package.json</span>
<span class="line">│   ├── package-lock.json</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>首先我们要安装 Prettier：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> prettier</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后在<code>frontend/</code>下面创建一个名为<code>.prettierrc</code>的 Prettier 配置文件。</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;singleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;tabWidth&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;trailingComma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后就可以用<code>npx</code>运行 Prettier 了：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">npx prettier <span class="token parameter variable">--check</span> <span class="token string">&quot;**/*.js&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="安装并配置-eslint" tabindex="-1"><a class="header-anchor" href="#安装并配置-eslint"><span>安装并配置 ESLint</span></a></h2><p>首先安装依赖：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> eslint eslint-config-prettier eslint-plugin-vue</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>其中<code>eslint</code>是 ESLint 本体，<code>eslint-config-prettier</code>是一个配置文件，用来禁用 ESLint 中与 Prettier 冲突的规则，<code>eslint-plugin-vue</code>则用来给 ESLint 添加 Vue 相关的规则。</p><p>然后在<code>frontend/</code>下面创建名为<code>eslint.config.js</code>的 ESLint 配置文件：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">import</span> js <span class="token keyword">from</span> <span class="token string">&quot;@eslint/js&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> prettier <span class="token keyword">from</span> <span class="token string">&quot;eslint-config-prettier&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> pluginVue <span class="token keyword">from</span> <span class="token string">&quot;eslint-plugin-vue&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span></span>
<span class="line">  js<span class="token punctuation">.</span>configs<span class="token punctuation">.</span>recommended<span class="token punctuation">,</span> <span class="token comment">// 使用推荐的 ESLint JS 配置</span></span>
<span class="line">  <span class="token operator">...</span>pluginVue<span class="token punctuation">.</span>configs<span class="token punctuation">[</span><span class="token string">&quot;flat/recommended&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 使用推荐的 ESLint Vue 配置</span></span>
<span class="line">  prettier<span class="token punctuation">,</span> <span class="token comment">// 这个配置会禁用和 Prettier 有冲突的 ESLint 规则</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// 在这里写其他的配置</span></span>
<span class="line">      <span class="token comment">// 参考：https://eslint.org/docs/latest/use/configure/configuration-files</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着就可以使用 ESLint 了：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">npx eslint <span class="token string">&quot;**/*.js&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="配置-vscode" tabindex="-1"><a class="header-anchor" href="#配置-vscode"><span>配置 VSCode</span></a></h2><p>首先安装以下 VSCode 插件：</p><ul><li>dbaeumer.vscode-eslint</li><li>esbenp.prettier-vscode</li><li>Vue.volar</li></ul><p>然后打开工作区的配置文件<code>.vscode/settings.json</code>，在里面加入以下内容：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;editor.formatOnSave&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;editor.codeActionsOnSave&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;source.fixAll.eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;explicit&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">&quot;prettier.configPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./frontend/.prettierrc&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;eslint.workingDirectories&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./frontend/&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">  <span class="token property">&quot;[vue]&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;editor.defaultFormatter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;[javascript]&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;editor.defaultFormatter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;[html]&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;editor.defaultFormatter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;[css]&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;editor.defaultFormatter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esbenp.prettier-vscode&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,26)])])}const r=n(p,[["render",i]]),c=JSON.parse('{"path":"/posts/2024/11/eslint-prettier-for-vue-vscode.html","title":"给VSCode Vue项目配置ESLint和Prettier","lang":"zh-CN","frontmatter":{"date":"2024-11-25T00:00:00.000Z"},"headers":[{"level":2,"title":"什么是 ESLint 和 Prettier","slug":"什么是-eslint-和-prettier","link":"#什么是-eslint-和-prettier","children":[]},{"level":2,"title":"安装并配置 Prettier","slug":"安装并配置-prettier","link":"#安装并配置-prettier","children":[]},{"level":2,"title":"安装并配置 ESLint","slug":"安装并配置-eslint","link":"#安装并配置-eslint","children":[]},{"level":2,"title":"配置 VSCode","slug":"配置-vscode","link":"#配置-vscode","children":[]}],"git":{"updatedTime":1763699399000,"contributors":[{"name":"shi0rik0","username":"shi0rik0","email":"anguuan@outlook.com","commits":2,"url":"https://github.com/shi0rik0"}],"changelog":[{"hash":"35d50711ef3a591a2383977aa02873c707aa5c1e","time":1763699399000,"email":"anguuan@outlook.com","author":"shi0rik0","message":"Organize files by date"},{"hash":"27621ea60c6645dc9e44007e7ab6fd2858c37eaf","time":1763698804000,"email":"anguuan@outlook.com","author":"shi0rik0","message":"Migrate posts"}]},"filePathRelative":"posts/2024/11/eslint-prettier-for-vue-vscode.md","excerpt":"\\n<h2>什么是 ESLint 和 Prettier</h2>\\n<p>ESLint 是一个专门针对 JS 程序的 linter，但是它也可以用来格式化 JS 代码。而 Prettier 是一个支持多种语言（包括 JS）的代码 formatter。Linter 和 formatter 的区别在于，formatter 只关注代码格式好不好看，不关心具体逻辑，而 linter 更关注程序逻辑是否有问题。</p>\\n<p>所以说，对于 HTML 和 CSS 代码，只能用 Prettier 来格式化。而对于 JS 代码来说，ESLint 和 Prettier 的功能有重复的部分。比较好的做法是，禁用 ESLint 中与 Prettier 冲突的格式化规则，然后同时使用 ESLint 和 Prettier。</p>"}');export{r as comp,c as data};
